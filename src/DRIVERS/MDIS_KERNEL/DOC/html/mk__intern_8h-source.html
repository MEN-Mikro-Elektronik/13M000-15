<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>MEN - MDIS kernel for QNX - mk_intern.h Source File</title>
<meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<meta name="Language" content="en, english">
<meta name="Copyright" content="All material copyright MEN Mikro Elektronik GmbH">
<link href="men_stylesheet.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class="left_to_right" style="padding-top: 6px; background-color: #F0F0F0; height: 110px; border-bottom: 2px solid #D1D1D2;">
	<!-- Titel -->
	<img src="menlogo.gif" alt="MEN" style="float: left; height: 103px; width: 155px; margin: 0px;"></a>
	<h1 style="margin: 0px; padding-top: 35px; padding-bottom: 0px;">MDIS kernel for QNX &nbsp; Release-1.6</h1>
	<h3>mk_intern.h Source File</h3>
</div>

<div class="left_to_right">
<!-- Hauptteil -->
	<div class="main">
<!-- Generated by Doxygen 1.3.2 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="annotated.html">Data&nbsp;Structures</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Data&nbsp;Fields</a> | <a class="qindex" href="globals.html">Globals</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a></div>
<h1>mk_intern.h</h1><a href="mk__intern_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 <span class="comment">/*********************  P r o g r a m  -  M o d u l e ***********************/</span>
00014 <span class="comment">/*-------------------------------[ History ]---------------------------------</span>
00015 <span class="comment"> *</span>
00016 <span class="comment"> * $Log: mk__intern_8h-source.html,v $
00016 <span class="comment"> * Revision 1.13  2014/10/30 13:04:40  ch
00016 <span class="comment"> * (AUTOCI) Checkin due to new revision Release-1.6 of fileset ART/13M000-15/13M000-15
00016 <span class="comment"> *</span>
00017 <span class="comment"> * Revision 1.6  2014/10/29 11:52:19  channoyer</span>
00018 <span class="comment"> * R: mdis_kernel not executed in background</span>
00019 <span class="comment"> * M: Add header for procmgr_daemon()</span>
00020 <span class="comment"> *</span>
00021 <span class="comment"> * Revision 1.5  2014/09/22 17:23:39  channoyer</span>
00022 <span class="comment"> * R: Not possible to use MDIS over Qnet</span>
00023 <span class="comment"> * M: Add application node ID to struct MK_THREAD</span>
00024 <span class="comment"> *</span>
00025 <span class="comment"> * Revision 1.4  2009/06/05 15:56:53  channoyer</span>
00026 <span class="comment"> * R: No possibility to use MDIS kernel server for native driver</span>
00027 <span class="comment"> * M: Add messages for native driver</span>
00028 <span class="comment"> *</span>
00029 <span class="comment"> * Revision 1.3  2008/11/13 15:42:48  channoyer</span>
00030 <span class="comment"> * R: Cosmetics</span>
00031 <span class="comment"> * M: Improuve comments with PU remaks</span>
00032 <span class="comment"> *</span>
00033 <span class="comment"> * Revision 1.2  2008/09/12 16:27:03  gvarlet</span>
00034 <span class="comment"> * R: DBG mode tried to open libraries without "_dbg" suffix</span>
00035 <span class="comment"> * M: Add "_dbg" suffix to library paths in DBG mode</span>
00036 <span class="comment"> *</span>
00037 <span class="comment"> * Revision 1.1  2004/03/24 11:35:13  ub</span>
00038 <span class="comment"> * Initial Revision</span>
00039 <span class="comment"> *</span>
00040 <span class="comment"> *</span>
00041 <span class="comment"> *---------------------------------------------------------------------------</span>
00042 <span class="comment"> * (c) Copyright 2000-2003 by MEN mikro elektronik GmbH, Nuernberg, Germany</span>
00043 <span class="comment"> ****************************************************************************/</span>
00044 
00045 <span class="comment">/*--------------------------------------+</span>
00046 <span class="comment">|  INCLUDES                             |</span>
00047 <span class="comment">+---------------------------------------*/</span>
00048 <span class="preprocessor">#include &lt;errno.h&gt;</span>
00049 <span class="preprocessor">#include &lt;stdio.h&gt;</span>
00050 <span class="preprocessor">#include &lt;string.h&gt;</span>
00051 <span class="preprocessor">#include &lt;stddef.h&gt;</span>
00052 <span class="preprocessor">#include &lt;stdlib.h&gt;</span>
00053 <span class="preprocessor">#include &lt;unistd.h&gt;</span>
00054 <span class="preprocessor">#include &lt;devctl.h&gt;</span>
00055 <span class="preprocessor">#include &lt;dlfcn.h&gt;</span>
00056 <span class="preprocessor">#include &lt;sys/iofunc.h&gt;</span>
00057 <span class="preprocessor">#include &lt;sys/dispatch.h&gt;</span>
00058 <span class="preprocessor">#include &lt;sys/slog.h&gt;</span>
00059 <span class="preprocessor">#include &lt;sys/slogcodes.h&gt;</span>
00060 <span class="preprocessor">#include &lt;sys/trace.h&gt;</span>                  <span class="comment">/* QNX event trace */</span>
00061 <span class="preprocessor">#include &lt;sys/kercalls.h&gt;</span>
00062 <span class="preprocessor">#include &lt;sys/procmgr.h&gt;</span>
00063 
00064 <span class="preprocessor">#include &lt;MEN/men_typs.h&gt;</span>
00065 <span class="preprocessor">#include &lt;MEN/dbg.h&gt;</span>
00066 <span class="preprocessor">#include &lt;<a class="codeRef" doxygen="qnx_oss.tag:../../../../LIBSRC/OSS/DOC/html/" href="../../../../LIBSRC/OSS/DOC/html/oss_8h.html">MEN/oss.h</a>&gt;</span>
00067 <span class="preprocessor">#include &lt;MEN/desc.h&gt;</span>
00068 <span class="preprocessor">#include &lt;MEN/maccess.h&gt;</span>
00069 <span class="preprocessor">#include &lt;MEN/desctyps.h&gt;</span>
00070 <span class="preprocessor">#include &lt;MEN/ll_defs.h&gt;</span>
00071 <span class="preprocessor">#include &lt;MEN/ll_entry.h&gt;</span>
00072 <span class="preprocessor">#include &lt;MEN/bb_defs.h&gt;</span>
00073 <span class="preprocessor">#include &lt;MEN/bb_entry.h&gt;</span>
00074 <span class="preprocessor">#include &lt;MEN/bbis_bk.h&gt;</span>
00075 <span class="preprocessor">#include &lt;MEN/mdis_mk.h&gt;</span>
00076 <span class="preprocessor">#include &lt;MEN/mdis_err.h&gt;</span>
00077 <span class="preprocessor">#include &lt;MEN/mdis_com.h&gt;</span>
00078 <span class="preprocessor">#include &lt;MEN/mdis_api.h&gt;</span>
00079 <span class="preprocessor">#include &lt;MEN/men_libc.h&gt;</span>
00080 
00081 
00082 <span class="comment">/*-----------------------------------------+</span>
00083 <span class="comment">|  DEFINES                                 |</span>
00084 <span class="comment">+------------------------------------------*/</span>
00085 <span class="preprocessor">#define DBG_MYLEVEL mk_dbglevel</span>
00086 <span class="preprocessor"></span><span class="preprocessor">#define DBH         G_dbh</span>
00087 <span class="preprocessor"></span><span class="preprocessor">#define OSH         G_osh</span>
00088 <span class="preprocessor"></span>
00089 <span class="preprocessor">#define MK_MAX_DRVNAME  39      </span><span class="comment">/* maximum length of LL driver name */</span>
00090 <span class="preprocessor">#define MK_MAX_DEVNAME  39      </span><span class="comment">/* maximum length of device name */</span>
00091 
00092 <span class="comment">/* macros to lock global MDIS sempahore */</span>
00093 <span class="preprocessor">#define MK_LOCK(err)        \</span>
00094 <span class="preprocessor"> err=OSS_SemWait(OSH,G_mkLockSem,OSS_SEM_WAITFOREVER)</span>
00095 <span class="preprocessor"></span>
00096 <span class="preprocessor">#define MK_UNLOCK() OSS_SemSignal(OSH,G_mkLockSem)</span>
00097 <span class="preprocessor"></span>
00098 <span class="preprocessor">#define MK_DRV_PREFIX   "libmen_ll_"</span>
00099 <span class="preprocessor"></span>
00100 <span class="preprocessor">#ifdef DBG</span>
00101 <span class="preprocessor"></span><span class="preprocessor">    #define MK_DRV_SUFFIX   "_dbg.so"</span>
00102 <span class="preprocessor"></span><span class="preprocessor">#else</span>
00103 <span class="preprocessor"></span><span class="preprocessor">    #define MK_DRV_SUFFIX   ".so"</span>
00104 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
00105 <span class="preprocessor"></span>
00106 <span class="comment">/* SPACE.flags */</span>
00107 <span class="preprocessor">#define MK_MAPPED       0x1</span>
00108 <span class="preprocessor"></span><span class="preprocessor">#define MK_REQUESTED    0x2</span>
00109 <span class="preprocessor"></span>
00110 <span class="comment">/* macros for QNX trace facility */</span>
00111 <span class="preprocessor">#ifdef TRACE</span>
00112 <span class="preprocessor"></span><span class="preprocessor">#define TRACE_EVENT(args) \</span>
00113 <span class="preprocessor">if((int)(TraceEvent args )==(-1)) \</span>
00114 <span class="preprocessor">{ \</span>
00115 <span class="preprocessor">    (void) fprintf \</span>
00116 <span class="preprocessor">    ( \</span>
00117 <span class="preprocessor">     stderr, \</span>
00118 <span class="preprocessor">     "%s() #%d: function call TraceEvent() failed, errno(%d): %s\n", \</span>
00119 <span class="preprocessor">     __FUNCTION__, \</span>
00120 <span class="preprocessor">     __LINE__, \</span>
00121 <span class="preprocessor">     errno, \</span>
00122 <span class="preprocessor">     strerror(errno) \</span>
00123 <span class="preprocessor">    ); \</span>
00124 <span class="preprocessor">}</span>
00125 <span class="preprocessor"></span>
00126 <span class="preprocessor">#else   </span><span class="comment">/* Trace off */</span>
00127 <span class="preprocessor">#define TRACE_EVENT(args) </span>
00128 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
00129 <span class="preprocessor"></span>
00130 <span class="preprocessor">#define TRACE_INIT \</span>
00131 <span class="preprocessor">        TRACE_EVENT((_NTO_TRACE_DELALLCLASSES))</span>
00132 <span class="preprocessor"></span>
00133 <span class="preprocessor">#define TRACE_START \</span>
00134 <span class="preprocessor">        TRACE_EVENT((_NTO_TRACE_START))</span>
00135 <span class="preprocessor"></span>
00136 <span class="preprocessor">#define TRACE_STOP  \</span>
00137 <span class="preprocessor">        TRACE_EVENT((_NTO_TRACE_STOP))</span>
00138 <span class="preprocessor"></span>
00139 <span class="preprocessor">#define TRACE_USR( str ) \</span>
00140 <span class="preprocessor">        TRACE_EVENT((_NTO_TRACE_INSERTUSRSTREVENT, 123, str ))</span>
00141 <span class="preprocessor"></span>
00142 
00143 <span class="comment">/*-----------------------------------------+</span>
00144 <span class="comment">|  TYPEDEFS                                |</span>
00145 <span class="comment">+------------------------------------------*/</span>
00146 
<a name="l00148"></a><a class="code" href="mk__intern_8h.html#a51">00148</a> <span class="keyword">typedef</span> <span class="keyword">enum</span> {
00149     mdis_read,
00150     mdis_write,
00151     mdis_getblock,
00152     mdis_setblock,
00153     mdis_getstat,
00154     mdis_setstat,
00155     mdis_call_num                  <span class="comment">/* must be last one */</span>
00156 } <a class="code" href="mk__intern_8h.html#a51">MDIS_CALL</a>;
00157 
<a name="l00159"></a><a class="code" href="structMK__DRV.html">00159</a> <span class="keyword">typedef</span> <span class="keyword">struct </span>{
<a name="l00160"></a><a class="code" href="structMK__DRV.html#o0">00160</a>     OSS_DL_NODE node;              
<a name="l00161"></a><a class="code" href="structMK__DRV.html#o1">00161</a>     <span class="keywordtype">char</span> drvName[MK_MAX_DRVNAME+1];
<a name="l00162"></a><a class="code" href="structMK__DRV.html#o2">00162</a>     <span class="keywordtype">void</span>  *drvHandle;              
00163     void (*getEntry)(LL_ENTRY *);  
00164 } <a class="code" href="structMK__DRV.html">MK_DRV</a>;
00165 
00166 
<a name="l00168"></a><a class="code" href="structMK__THREAD.html">00168</a> <span class="keyword">typedef</span> <span class="keyword">struct </span>{
<a name="l00169"></a><a class="code" href="structMK__THREAD.html#o0">00169</a>     <span class="keywordtype">int</span>         appPid;            
<a name="l00170"></a><a class="code" href="structMK__THREAD.html#o1">00170</a>     <span class="keywordtype">int</span>         appTid;            
<a name="l00171"></a><a class="code" href="structMK__THREAD.html#o2">00171</a>     <span class="keywordtype">int</span>         appNid;            
<a name="l00172"></a><a class="code" href="structMK__THREAD.html#o3">00172</a>     <span class="keywordtype">int</span>         mkTid;             
<a name="l00173"></a><a class="code" href="structMK__THREAD.html#o4">00173</a>     <span class="keywordtype">int</span>         mkCid;             
00174     <span class="keywordtype">int</span>         useCount;
00175 } <a class="code" href="structMK__THREAD.html">MK_THREAD</a>;
00176 
00177 
<a name="l00179"></a><a class="code" href="structSPACE.html">00179</a> <span class="keyword">typedef</span> <span class="keyword">struct </span>{
<a name="l00180"></a><a class="code" href="structSPACE.html#o0">00180</a>     u_int32 addrMode;              
<a name="l00181"></a><a class="code" href="structSPACE.html#o1">00181</a>     u_int32 dataMode;              
<a name="l00182"></a><a class="code" href="structSPACE.html#o2">00182</a>     u_int32 reqSize;               
<a name="l00183"></a><a class="code" href="structSPACE.html#o3">00183</a>     u_int32 availSize;             
<a name="l00184"></a><a class="code" href="structSPACE.html#o4">00184</a>     <span class="keywordtype">void</span>    *physAddr;             
<a name="l00185"></a><a class="code" href="structSPACE.html#o5">00185</a>     <span class="keywordtype">void</span>    *virtAddr;             
<a name="l00186"></a><a class="code" href="structSPACE.html#o6">00186</a>     u_int32 flags;                 
<a name="l00187"></a><a class="code" href="structSPACE.html#o7">00187</a>     u_int32 type;                  
00188 } <a class="code" href="structSPACE.html">SPACE</a>;
00189 
<a name="l00191"></a><a class="code" href="structMK__DEV.html">00191</a> <span class="keyword">typedef</span> <span class="keyword">struct </span>{
<a name="l00192"></a><a class="code" href="structMK__DEV.html#o0">00192</a>     OSS_DL_NODE     node;           
<a name="l00193"></a><a class="code" href="structMK__DEV.html#o1">00193</a>     <span class="keywordtype">char</span>            devName[MK_MAX_DEVNAME+1]; 
<a name="l00194"></a><a class="code" href="structMK__DEV.html#o2">00194</a>     <span class="keywordtype">char</span>            brdName[BK_MAX_DEVNAME+1]; 
<a name="l00195"></a><a class="code" href="structMK__DEV.html#o3">00195</a>     u_int32         useCount;       
<a name="l00196"></a><a class="code" href="structMK__DEV.html#o4">00196</a>     <span class="keywordtype">int</span>             externalDev;    
<a name="l00198"></a><a class="code" href="structMK__DEV.html#o5">00198</a>     OSS_HANDLE      *osh;           
<a name="l00199"></a><a class="code" href="structMK__DEV.html#o6">00199</a>     <span class="keywordtype">int</span>             vmeHdl;         
<a name="l00201"></a><a class="code" href="structMK__DEV.html#o7">00201</a>     u_int32         lockMode;       
<a name="l00202"></a><a class="code" href="structMK__DEV.html#o8">00202</a>     OSS_SEM_HANDLE *semDev;         
<a name="l00203"></a><a class="code" href="structMK__DEV.html#o9">00203</a>     OSS_SEM_HANDLE *semCall[mdis_call_num]; 
<a name="l00204"></a><a class="code" href="structMK__DEV.html#o10">00204</a>     OSS_SEM_HANDLE **semChanP;      
<a name="l00205"></a><a class="code" href="structMK__DEV.html#o11">00205</a>     u_int32         semChanAlloc;   
00207     <span class="comment">/* device params */</span>
<a name="l00208"></a><a class="code" href="structMK__DEV.html#o12">00208</a>     u_int32         devSlot;        
<a name="l00209"></a><a class="code" href="structMK__DEV.html#o13">00209</a>     u_int32         subDevOffset;   
<a name="l00210"></a><a class="code" href="structMK__DEV.html#o14">00210</a>     u_int32         devNrChan;      
<a name="l00211"></a><a class="code" href="structMK__DEV.html#o15">00211</a>     u_int32         devAddrMode;    
<a name="l00212"></a><a class="code" href="structMK__DEV.html#o16">00212</a>     u_int32         devDataMode;    
00213     <span class="comment">/* board params */</span>
<a name="l00214"></a><a class="code" href="structMK__DEV.html#o17">00214</a>     u_int32         brdBusType;     
<a name="l00215"></a><a class="code" href="structMK__DEV.html#o18">00215</a>     u_int32         devBusType;     
<a name="l00216"></a><a class="code" href="structMK__DEV.html#o19">00216</a>     u_int32         irqInfo;        
<a name="l00217"></a><a class="code" href="structMK__DEV.html#o20">00217</a>     u_int32         addrSpaceType;  
00218     <span class="comment">/* addr spaces */</span>
<a name="l00219"></a><a class="code" href="structMK__DEV.html#o21">00219</a>     u_int32         spaceCnt;       
<a name="l00220"></a><a class="code" href="structMK__DEV.html#o22">00220</a>     <a class="code" href="structSPACE.html">SPACE</a>           space[MDIS_MAX_MSPACE]; 
<a name="l00221"></a><a class="code" href="structMK__DEV.html#o23">00221</a>     MACCESS         ma[MDIS_MAX_MSPACE];    
00222     <span class="comment">/* device interrupt */</span>
<a name="l00223"></a><a class="code" href="structMK__DEV.html#o24">00223</a>     u_int32         irqUse;         
<a name="l00224"></a><a class="code" href="structMK__DEV.html#o25">00224</a>     u_int32         irqInstalled;   
<a name="l00225"></a><a class="code" href="structMK__DEV.html#o26">00225</a>     u_int32         irqEnable;      
<a name="l00226"></a><a class="code" href="structMK__DEV.html#o27">00226</a>     u_int32         irqVector;      
<a name="l00227"></a><a class="code" href="structMK__DEV.html#o28">00227</a>     u_int32         irqLevel;       
<a name="l00228"></a><a class="code" href="structMK__DEV.html#o29">00228</a>     u_int32         irqMode;        
<a name="l00229"></a><a class="code" href="structMK__DEV.html#o30">00229</a>     u_int32         irqCnt;         
<a name="l00230"></a><a class="code" href="structMK__DEV.html#o31">00230</a>     <span class="keywordtype">int</span>             irqId;          
00231     <span class="comment">/* pci params */</span>
<a name="l00232"></a><a class="code" href="structMK__DEV.html#o32">00232</a>     u_int32         pciBusNbr;      
<a name="l00233"></a><a class="code" href="structMK__DEV.html#o33">00233</a>     u_int32         pciDevNbr;      
<a name="l00234"></a><a class="code" href="structMK__DEV.html#o34">00234</a>     u_int32         pciFuncNbr;     
<a name="l00235"></a><a class="code" href="structMK__DEV.html#o35">00235</a>     u_int32         pciVendorId;    
00236     u_int32         pciDeviceId;    
00237     u_int32         pciSubSysVendorId;  
00238     u_int32         pciSubSysId;    
00239     <span class="comment">/* board handler */</span>
<a name="l00240"></a><a class="code" href="structMK__DEV.html#o39">00240</a>     BBIS_ENTRY      brdJumpTbl;     
<a name="l00241"></a><a class="code" href="structMK__DEV.html#o40">00241</a>     BBIS_HANDLE     *brd;           
<a name="l00242"></a><a class="code" href="structMK__DEV.html#o41">00242</a>     u_int32         irqSrvInitFunc; 
<a name="l00243"></a><a class="code" href="structMK__DEV.html#o42">00243</a>     u_int32         irqSrvExitFunc; 
00244     <span class="comment">/* ll driver */</span>
<a name="l00245"></a><a class="code" href="structMK__DEV.html#o43">00245</a>     <a class="code" href="structMK__DRV.html">MK_DRV</a>          *drv;           
<a name="l00246"></a><a class="code" href="structMK__DEV.html#o44">00246</a>     LL_ENTRY        llJumpTbl;      
<a name="l00247"></a><a class="code" href="structMK__DEV.html#o45">00247</a>     LL_HANDLE       *ll;            
<a name="l00248"></a><a class="code" href="structMK__DEV.html#o46">00248</a>     <span class="keywordtype">int</span>             initialized;    
<a name="l00249"></a><a class="code" href="structMK__DEV.html#o47">00249</a>     <span class="keywordtype">int</span>             exceptionOccurred; 
<a name="l00250"></a><a class="code" href="structMK__DEV.html#o48">00250</a>     <span class="keywordtype">int</span>             appCount;       
<a name="l00251"></a><a class="code" href="structMK__DEV.html#o49">00251</a>     OSS_DL_LIST     pathList;       
00252     u_int32         extIrqUse;
00253     <span class="keyword">struct </span>sigevent extEvent;
00254     <span class="keywordtype">int</span>             extRcvid;
00255     <a class="code" href="structIRQ__THREAD.html">IRQ_THREAD</a>      irqThread;
00256 } <a class="code" href="structMK__DEV.html">MK_DEV</a>;
00257 
<a name="l00259"></a><a class="code" href="structLOCK__INFO.html">00259</a> <span class="keyword">typedef</span> <span class="keyword">struct </span>{
<a name="l00260"></a><a class="code" href="structLOCK__INFO.html#o0">00260</a>     int8        dev;                
<a name="l00261"></a><a class="code" href="structLOCK__INFO.html#o1">00261</a>     int8        call[mdis_call_num];
<a name="l00262"></a><a class="code" href="structLOCK__INFO.html#o2">00262</a>     int8        *chan;              
00263 } <a class="code" href="structLOCK__INFO.html">LOCK_INFO</a>;
00264 
<a name="l00266"></a><a class="code" href="structMK__PATH.html">00266</a> <span class="keyword">typedef</span> <span class="keyword">struct </span>{
<a name="l00267"></a><a class="code" href="structMK__PATH.html#o0">00267</a>     OSS_DL_NODE node;               
<a name="l00268"></a><a class="code" href="structMK__PATH.html#o1">00268</a>     <a class="code" href="structMK__DEV.html">MK_DEV</a>      *dev;               
<a name="l00269"></a><a class="code" href="structMK__PATH.html#o2">00269</a>     <a class="code" href="structMK__THREAD.html">MK_THREAD</a>   *thread;            
<a name="l00270"></a><a class="code" href="structMK__PATH.html#o3">00270</a>     int32       chan;               
<a name="l00271"></a><a class="code" href="structMK__PATH.html#o4">00271</a>     int32       ioMode;             
<a name="l00272"></a><a class="code" href="structMK__PATH.html#o5">00272</a>     <a class="code" href="structLOCK__INFO.html">LOCK_INFO</a>   locked;             
00273 } <a class="code" href="structMK__PATH.html">MK_PATH</a>;
00274 
00275 
00276 <span class="comment">/*-----------------------------------------+</span>
00277 <span class="comment">|  GLOBALS                                 |</span>
00278 <span class="comment">+------------------------------------------*/</span>
00279 <span class="keyword">extern</span> DBG_HANDLE       *G_dbh;
00280 <span class="keyword">extern</span> OSS_HANDLE       *G_osh;
00281 <span class="keyword">extern</span> u_int32          mk_dbglevel;
00282 <span class="keyword">extern</span> OSS_SEM_HANDLE   *G_mkLockSem;
00283 <span class="keyword">extern</span> OSS_DL_LIST      G_drvList;
00284 <span class="keyword">extern</span> OSS_DL_LIST      G_devList;
00285 <span class="keyword">extern</span> OSS_DL_LIST      G_threadList;
00286 <span class="keyword">extern</span> <a class="code" href="structIRQ__THREAD.html">IRQ_THREAD</a>       G_irqThread;
00287 
00288 
00289 <span class="comment">/*-----------------------------------------+</span>
00290 <span class="comment">|  PROTOTYPES                              |</span>
00291 <span class="comment">+------------------------------------------*/</span>
00292 
00293 <span class="comment">/* mdis_kernel.c */</span>
00294 <span class="keywordtype">void</span>* <a class="code" href="mdis__kernel_8c.html#a16">MDIS_Handler</a>( <span class="keywordtype">void</span> *);
00295 <span class="keywordtype">void</span>* <a class="code" href="mdis__kernel_8c.html#a17">MDIS_IrqHandler</a>( <span class="keywordtype">void</span> *);
00296 int32 <a class="code" href="mdis__kernel_8c.html#a18">MDIS_DevLock</a>( <a class="code" href="structMK__PATH.html">MK_PATH</a> *mkPath, MDIS_CALL call );
00297 <span class="keywordtype">void</span>  <a class="code" href="mdis__kernel_8c.html#a19">MDIS_DevUnLock</a>( <a class="code" href="structMK__PATH.html">MK_PATH</a> *mkPath, MDIS_CALL call );
00298 pid_t <a class="code" href="mdis__kernel_8c.html#a21">MDIS_CurrentPid</a>( <span class="keywordtype">void</span> );
00299 
00300 
00301 <span class="comment">/* ident.c */</span>
00302 <span class="keywordtype">char</span>* MDIS_Ident( <span class="keywordtype">void</span> );
00303 
00304 <span class="comment">/* open.c */</span>
00305 int32 <a class="code" href="open_8c.html#a16">MDIS_OpenDevice</a>( 
00306     <a class="code" href="structMDIS__OPEN__DEVICE__DATA.html">MDIS_OPEN_DEVICE_DATA</a> *mop, 
00307     <a class="code" href="structMDIS__OPEN__DEVICE__RETURN.html">MDIS_OPEN_DEVICE_RETURN</a> *r);
00308 
00309 int32 <a class="code" href="open_8c.html#a19">MDIS_InitialOpen</a>( 
00310     <span class="keywordtype">char</span> *devName, 
00311     DESC_HANDLE *devDescHdl,
00312     DESC_SPEC *devDesc,
00313     <span class="keywordtype">char</span> *brdName, 
00314     DESC_SPEC *brdDesc,
00315     <a class="code" href="structMK__DEV.html">MK_DEV</a> **devP);
00316 
00317 int32 <a class="code" href="open_8c.html#a18">MDIS_EnableIrq</a>(<a class="code" href="structMK__DEV.html">MK_DEV</a> *dev, <span class="keywordtype">int</span> enable);
00318 <a class="code" href="structMK__DRV.html">MK_DRV</a> *<a class="code" href="open_8c.html#a15">MDIS_FindDrvByName</a>( <span class="keywordtype">char</span> *name );
00319 
00320 <span class="comment">/* close.c */</span>
00321 int32 <a class="code" href="close_8c.html#a6">MDIS_CloseDevice</a>( <a class="code" href="structMDIS__CLOSE__DEVICE__DATA.html">MDIS_CLOSE_DEVICE_DATA</a> *mcl );
00322 int32 <a class="code" href="close_8c.html#a7">MDIS_FinalClose</a>( <a class="code" href="structMK__DEV.html">MK_DEV</a> *dev );
00323 
00324 <span class="comment">/* calls.c */</span>
00325 int32 <a class="code" href="calls_8c.html#a2">MDIS_Read</a>(  <a class="code" href="structMK__PATH.html">MK_PATH</a> *path, int32 *valP );
00326 int32 <a class="code" href="calls_8c.html#a3">MDIS_Write</a>( <a class="code" href="structMK__PATH.html">MK_PATH</a> *path, int32 val );
00327 
00328 int32 <a class="code" href="calls_8c.html#a4">MDIS_Getblock</a>( 
00329     <a class="code" href="structMK__PATH.html">MK_PATH</a> *path,
00330     u_int8 *buffer, 
00331     int32 length );
00332 
00333 int32 <a class="code" href="calls_8c.html#a5">MDIS_Setblock</a>( 
00334     <a class="code" href="structMK__PATH.html">MK_PATH</a> *path,
00335     u_int8 *buffer, 
00336     int32 length );
00337 
00338 int32 <a class="code" href="calls_8c.html#a9">MDIS_GetstatStd</a>( 
00339     <a class="code" href="structMK__PATH.html">MK_PATH</a> *path,
00340     int32 code, 
00341     int32 *valueP );
00342 
00343 int32 <a class="code" href="calls_8c.html#a10">MDIS_GetstatBlk</a>( 
00344     <a class="code" href="structMK__PATH.html">MK_PATH</a> *path,
00345     int32 code, 
00346     u_int8 *buffer, 
00347     int32 length );
00348 
00349 int32 <a class="code" href="calls_8c.html#a14">MDIS_SetstatStd</a>( 
00350     <a class="code" href="structMK__PATH.html">MK_PATH</a> *path,
00351     int32 code, 
00352     int32 value );
00353 
00354 int32 <a class="code" href="calls_8c.html#a15">MDIS_SetstatBlk</a>( 
00355     <a class="code" href="structMK__PATH.html">MK_PATH</a> *path,
00356     int32 code, 
00357     u_int8 *buffer, 
00358     int32 length );
</pre></div>
	</div>
</div>

<div class="footer">
<!-- Footer -->
	<p class="footer">
	Generated for MDIS kernel for QNX using <a href="http://www.doxygen.org">doxygen</a>.<br>
	Copyright &copy; 2014 <a href="http://www.men.de">MEN Mikro Elektronik GmbH</a>. All Rights Reserved.
	</p>
</div>

</body>
</html>

