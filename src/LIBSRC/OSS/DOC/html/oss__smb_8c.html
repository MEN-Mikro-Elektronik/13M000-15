<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>MEN - OSS module for QNX - oss_smb.c File Reference</title>
<meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<meta name="Language" content="en, english">
<meta name="Copyright" content="All material copyright MEN Mikro Elektronik GmbH">
<link href="men_stylesheet.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class="left_to_right" style="padding-top: 6px; background-color: #F0F0F0; height: 110px; border-bottom: 2px solid #D1D1D2;">
	<!-- Titel -->
	<img src="menlogo.gif" alt="MEN" style="float: left; height: 103px; width: 155px; margin: 0px;"></a>
	<h1 style="margin: 0px; padding-top: 35px; padding-bottom: 0px;">OSS module for QNX &nbsp; Release-1.6</h1>
	<h3>oss_smb.c File Reference</h3>
</div>

<div class="left_to_right">
<!-- Hauptteil -->
	<div class="main">
<!-- Generated by Doxygen 1.3.2 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="globals.html">Globals</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a></div>
<h1>oss_smb.c File Reference</h1>SMB handle set/get functions.  
<a href="#_details">More...</a>
<p>
<table border=0 cellpadding=0 cellspacing=0>
<tr><td></td></tr>
<tr><td colspan=2><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>int32&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="oss__smb_8c.html#a4">OSS_SetSmbHdl</a> (OSS_HANDLE *osHdl, u_int32 busNbr, void *smbHdl)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set SMB handle. </em> <a href="#a4"></a><em><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>int32&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="oss__smb_8c.html#a5">OSS_GetSmbHdl</a> (OSS_HANDLE *osHdl, u_int32 busNbr, void **smbHdlP)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get SMB handle. </em> <a href="#a5"></a><em><br><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
SMB handle set/get functions. 
<p>
<dl compact><dt><b>Author:</b></dt><dd>ch <dl compact><dt><b>Date</b></dt><dd>2010/04/30 15:19:34 </dd></dl>
<dl compact><dt><b>Revision</b></dt><dd>1.1 </dd></dl>
</dd></dl>
<dl compact><dt><b>Project:</b></dt><dd>MDIS4QNX </dd></dl>
A table of OSS_SMB_TBL_ENTRIES_MAX is implemented here.<p>
Switches: -<hr><h2>Function Documentation</h2>
<a name="a5" doxytag="oss_smb.c::OSS_GetSmbHdl"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int32 OSS_GetSmbHdl </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">OSS_HANDLE *&nbsp;</td>
          <td class="mdname" nowrap> <em>osHdl</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>u_int32&nbsp;</td>
          <td class="mdname" nowrap> <em>busNbr</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>void **&nbsp;</td>
          <td class="mdname" nowrap> <em>smbHdlP</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Get SMB handle. 
<p>
The function requests the smbHdl for the specified SMBus.<p>
The smbHdl is a pointer to a SMB_HANDLE structure (as defined in sysmanagbus2.h) that provides the functions to access the specified SMBus. The smbHdl can be the initialized handle returned from the Smb_&lt;HWName&gt;_Init() function of the common SMB2 library or it can be initialized from a native SW module. The OS specific implementation of the SMBus support is responsible to initialize the smbHdl prior to <a class="el" href="oss__smb_8c.html#a5">OSS_GetSmbHdl()</a> calls.<p>
With the gotten smbHdl, the caller can use the provided SMB functions. Example: SMB_HANDLE *smbH = ((SMB_HANDLE*)*smbHdlP); error = smbH-&gt;WriteByte( smbH, addr, data );<p>
The function returns <code>ERR_OSS_ILL_HANDLE</code> if the requested smbHdl is not available.<p>
<dl compact><dt><b>Remarks:</b></dt><dd>The returned smbHdl is no longer valid after the SMB libraries exit function was called. The caller of OSS_GetSmbHdl must not call the SMB libraries exit function. The SMB library is responsible for the synchronisation of the provided SMB library functions. The suggested assignment for the SMBus identifikation is: busNbr=0 : onboard SMBus, busNbr=1 : additional onboard SMBus or plugged SMBus.</dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>oss</em>&nbsp;</td><td><b>IN</b> OSS handle, returned by <a class="el" href="oss_8c.html#a1">OSS_Init()</a> </td></tr>
    <tr><td valign=top><em>busNbr</em>&nbsp;</td><td><b>IN</b> SMBus identifikation (0,1,2,...) </td></tr>
    <tr><td valign=top><em>smbHdlP</em>&nbsp;</td><td><b>OUT</b> smbHdl</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>0 on success or <code>ERR_OSS_xxx</code> error code on error </dd></dl>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="oss__specification_8c.html#a66">OSS_SetSmbHdl</a></dd></dl>
     </td>
  </tr>
</table>
<a name="a4" doxytag="oss_smb.c::OSS_SetSmbHdl"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int32 OSS_SetSmbHdl </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">OSS_HANDLE *&nbsp;</td>
          <td class="mdname" nowrap> <em>osHdl</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>u_int32&nbsp;</td>
          <td class="mdname" nowrap> <em>busNbr</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>void *&nbsp;</td>
          <td class="mdname" nowrap> <em>smbHdl</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Set SMB handle. 
<p>
The function sets the smbHdl for the specified SMBus.<p>
The smbHdl is a pointer to a initialized SMB_HANDLE structure (as defined in sysmanagbus2.h) that provides the functions to access the specified SMBus. The smbHdl can be the initialized handle returned from the Smb_&lt;HWName&gt;_Init() function of the common SMB2 library or it can be initialized from a native SW module.<p>
<dl compact><dt><b>Remarks:</b></dt><dd>The returned smbHdl is no longer valid after the SMB libraries exit function was called.</dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>oss</em>&nbsp;</td><td><b>IN</b> OSS handle, returned by <a class="el" href="oss_8c.html#a1">OSS_Init()</a> </td></tr>
    <tr><td valign=top><em>busNbr</em>&nbsp;</td><td><b>IN</b> SMBus identifikation (0,1,2,...) </td></tr>
    <tr><td valign=top><em>smbHdl</em>&nbsp;</td><td><b>OUT</b> smbHdl</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>0 on success or <code>ERR_OSS_xxx</code> error code on error </dd></dl>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="oss__specification_8c.html#a65">OSS_GetSmbHdl</a></dd></dl>
     </td>
  </tr>
</table>

	</div>
</div>

<div class="footer">
<!-- Footer -->
	<p class="footer">
	Generated for OSS module for QNX using <a href="http://www.doxygen.org">doxygen</a>.<br>
	Copyright &copy; 2014 <a href="http://www.men.de">MEN Mikro Elektronik GmbH</a>. All Rights Reserved.
	</p>
</div>

</body>
</html>

