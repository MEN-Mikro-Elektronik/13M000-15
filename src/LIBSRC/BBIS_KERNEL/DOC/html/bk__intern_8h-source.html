<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>MEN - BBIS kernel library for QNX - bk_intern.h Source File</title>
<meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<meta name="Language" content="en, english">
<meta name="Copyright" content="All material copyright MEN Mikro Elektronik GmbH">
<link href="men_stylesheet.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class="left_to_right" style="padding-top: 6px; background-color: #F0F0F0; height: 110px; border-bottom: 2px solid #D1D1D2;">
	<!-- Titel -->
	<img src="menlogo.gif" alt="MEN" style="float: left; height: 103px; width: 155px; margin: 0px;"></a>
	<h1 style="margin: 0px; padding-top: 35px; padding-bottom: 0px;">BBIS kernel library for QNX &nbsp; 01.6</h1>
	<h3>bk_intern.h Source File</h3>
</div>

<div class="left_to_right">
<!-- Hauptteil -->
	<div class="main">
<!-- Generated by Doxygen 1.3.2 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="annotated.html">Data&nbsp;Structures</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Data&nbsp;Fields</a> | <a class="qindex" href="globals.html">Globals</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a></div>
<h1>bk_intern.h</h1><a href="bk__intern_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 <span class="comment">/*********************  P r o g r a m  -  M o d u l e ***********************/</span>
00014 <span class="comment">/*-------------------------------[ History ]---------------------------------</span>
00015 <span class="comment"> *</span>
00016 <span class="comment"> * $Log: bk__intern_8h-source.html,v $
00016 <span class="comment"> * Revision 1.10  2014/10/30 10:38:44  ch
00016 <span class="comment"> * (AUTOCI) Checkin due to new revision 01.6 of fileset QNX/LIBSRC/bbis_kernel
00016 <span class="comment"> *</span>
00017 <span class="comment"> * Revision 1.1  2004/03/23 17:58:43  ub</span>
00018 <span class="comment"> * Initial Revision</span>
00019 <span class="comment"> *</span>
00020 <span class="comment"> *</span>
00021 <span class="comment"> *---------------------------------------------------------------------------</span>
00022 <span class="comment"> * (c) Copyright 2000-2004 by MEN mikro elektronik GmbH, Nuernberg, Germany </span>
00023 <span class="comment"> ****************************************************************************/</span>
00024 
00025 <span class="preprocessor">#ifndef _BK_INTERN_H</span>
00026 <span class="preprocessor"></span><span class="preprocessor">#  define _BK_INTERN_H</span>
00027 <span class="preprocessor"></span>
00028 <span class="preprocessor">#  ifdef __cplusplus</span>
00029 <span class="preprocessor"></span>      <span class="keyword">extern</span> <span class="stringliteral">"C"</span> {
00030 <span class="preprocessor">#  endif</span>
00031 <span class="preprocessor"></span>
00032 <span class="preprocessor">#include &lt;stdio.h&gt;</span>
00033 <span class="preprocessor">#include &lt;unistd.h&gt;</span>
00034 <span class="preprocessor">#include &lt;stdlib.h&gt;</span>
00035 <span class="preprocessor">#include &lt;time.h&gt;</span>
00036 <span class="preprocessor">#include &lt;errno.h&gt;</span>
00037 <span class="preprocessor">#include &lt;string.h&gt;</span>
00038 <span class="preprocessor">#include &lt;memory.h&gt;</span>
00039 <span class="preprocessor">#include &lt;dlfcn.h&gt;</span>
00040 <span class="preprocessor">#include &lt;sys/neutrino.h&gt;</span>
00041 <span class="preprocessor">#include &lt;sys/mman.h&gt;</span>
00042 <span class="preprocessor">#include &lt;hw/pci.h&gt;</span>
00043 
00044 <span class="preprocessor">#include &lt;MEN/men_typs.h&gt;</span>
00045 <span class="preprocessor">#include &lt;MEN/mdis_err.h&gt;</span>
00046 
00047 <span class="preprocessor">#include &lt;<a class="codeRef" doxygen="qnx_oss.tag:../../../OSS/DOC/html/" href="../../../OSS/DOC/html/oss_8h.html">MEN/oss.h</a>&gt;</span>
00048 <span class="preprocessor">#include &lt;MEN/dbg.h&gt;</span>
00049 <span class="preprocessor">#include &lt;MEN/desc.h&gt;</span>
00050 <span class="preprocessor">#include &lt;MEN/desctyps.h&gt;</span>
00051 <span class="preprocessor">#include &lt;MEN/bb_defs.h&gt;</span>
00052 <span class="preprocessor">#include &lt;MEN/bb_entry.h&gt;</span>
00053 <span class="preprocessor">#include &lt;MEN/bbis_bk.h&gt;</span>
00054 
00055 
00056 <span class="comment">/*-----------------------------------------+</span>
00057 <span class="comment">|  DEFINES &amp; CONST                         |</span>
00058 <span class="comment">+------------------------------------------*/</span>
00059 <span class="preprocessor">#define DBG_MYLEVEL         bk_dbglevel</span>
00060 <span class="preprocessor"></span><span class="preprocessor">#define DBH                 G_bkDbh</span>
00061 <span class="preprocessor"></span><span class="preprocessor">#define OSH                 G_bkOsh</span>
00062 <span class="preprocessor"></span><span class="preprocessor">#define BK_MAX_DRVNAME      39</span>
00063 <span class="preprocessor"></span>
<a name="l00065"></a><a class="code" href="bk__intern_8h.html#a4">00065</a> <span class="preprocessor">#define BK_LOCK( err ) \</span>
00066 <span class="preprocessor">                        err=OSS_SemWait(OSH,G_bkLockSem,OSS_SEM_WAITFOREVER)</span>
00067 <span class="preprocessor"></span>
00068 <span class="preprocessor">#define BK_UNLOCK()     OSS_SemSignal(OSH,G_bkLockSem)</span>
00069 <span class="preprocessor"></span>
00070 
00071 <span class="comment">/*-----------------------------------------+</span>
00072 <span class="comment">|  TYPEDEFS                                |</span>
00073 <span class="comment">+------------------------------------------*/</span>
00074 
<a name="l00076"></a><a class="code" href="structBK__DRV.html">00076</a> <span class="keyword">typedef</span> <span class="keyword">struct </span>{
<a name="l00077"></a><a class="code" href="structBK__DRV.html#o0">00077</a>     OSS_DL_NODE node;                
<a name="l00078"></a><a class="code" href="structBK__DRV.html#o1">00078</a>     <span class="keywordtype">char</span>  drvName[BK_MAX_DRVNAME+1]; 
<a name="l00079"></a><a class="code" href="structBK__DRV.html#o2">00079</a>     <span class="keywordtype">void</span>  *drvHandle;                
00080     void  (*getEntry)(BBIS_ENTRY *); 
00081 } <a class="code" href="structBK__DRV.html">BK_DRV</a>;
00082 
<a name="l00084"></a><a class="code" href="structBK__DEV.html">00084</a> <span class="keyword">typedef</span> <span class="keyword">struct </span>{
<a name="l00085"></a><a class="code" href="structBK__DEV.html#o0">00085</a>     OSS_DL_NODE node;               
<a name="l00086"></a><a class="code" href="structBK__DEV.html#o1">00086</a>     <span class="keywordtype">char</span>         devName[BK_MAX_DEVNAME+1]; 
<a name="l00087"></a><a class="code" href="structBK__DEV.html#o2">00087</a>     <span class="keywordtype">int</span>          useCount;          
<a name="l00088"></a><a class="code" href="structBK__DEV.html#o3">00088</a>     OSS_HANDLE  *osh;               
<a name="l00090"></a><a class="code" href="structBK__DEV.html#o4">00090</a>     <a class="code" href="structBK__DRV.html">BK_DRV</a>       *drv;              
<a name="l00091"></a><a class="code" href="structBK__DEV.html#o5">00091</a>     BBIS_HANDLE  *bb;               
00092 } <a class="code" href="structBK__DEV.html">BK_DEV</a>;
00093 
00094 
00095 <span class="comment">/*-----------------------------------------+</span>
00096 <span class="comment">|  GLOBALS                                 |</span>
00097 <span class="comment">+------------------------------------------*/</span>
00098 
00099 <span class="comment">/*-----------------------------------------+</span>
00100 <span class="comment">|  PROTOTYPES                              |</span>
00101 <span class="comment">+------------------------------------------*/</span>
00102 
00103 <span class="preprocessor">#  ifdef __cplusplus</span>
00104 <span class="preprocessor"></span>      }
00105 <span class="preprocessor">#  endif</span>
00106 <span class="preprocessor"></span>
00107 <span class="preprocessor">#endif</span><span class="comment">/*_BK_INTERN_H*/</span>
</pre></div>
	</div>
</div>

<div class="footer">
<!-- Footer -->
	<p class="footer">
	Generated for BBIS kernel library for QNX using <a href="http://www.doxygen.org">doxygen</a>.<br>
	Copyright &copy; 2014 <a href="http://www.men.de">MEN Mikro Elektronik GmbH</a>. All Rights Reserved.
	</p>
</div>

</body>
</html>

